!function e(r,t,n){function i(u,s){if(!t[u]){if(!r[u]){var a="function"==typeof require&&require;if(!s&&a)return a(u,!0);if(o)return o(u,!0);var f=new Error("Cannot find module '"+u+"'");throw f.code="MODULE_NOT_FOUND",f}var c=t[u]={exports:{}};r[u][0].call(c.exports,function(e){var t=r[u][1][e];return i(t?t:e)},c,c.exports,e,r,t,n)}return t[u].exports}for(var o="function"==typeof require&&require,u=0;u<n.length;u++)i(n[u]);return i}({1:[function(e,r,t){"use strict";function n(e,r){return"_id"in r||(r._id=1),o.chain(e).map(function(e){return u.$expressionObject(e,r,e)})}function i(e,r){o.isArray(r)||(r=[r]),e=o.chain(e);for(var t=r.length-1;t<r.length;t++){var i=r[t];i.$project&&(e=n(e,i.$project))}return e}Object.defineProperty(t,"__esModule",{value:!0});var o=e("lodash"),u=e("./expressions");t["default"]={aggregate:i,$project:n},r.exports=t["default"]},{"./expressions":3,lodash:void 0}],2:[function(e,r,t){"use strict";function n(e){return i.size(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=e("lodash");t["default"]={count:n},r.exports=t["default"]},{lodash:void 0}],3:[function(e,r,t){"use strict";function n(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function i(e){return"string"==typeof e&&0===e.indexOf("$")&&-1===e.indexOf("$$")}function o(e){return"string"==typeof e&&0===e.indexOf("$$")}function u(e){return g.isObject(e)&&!s(e)&&!g.isArray(e)}function s(e){return 1===g.size(e)&&g.keys(e)[0]in v}function a(e,r,t){var n;if(void 0===t&&(t=e),s(v))n=c(e,r,t);else if(i(r))n=f(e,r);else{if(!u(r))throw Error(o(r)?"System Variables are not currently supported":"Invalid Expression: "+JSON.stringify(r));n=l(e,r,t)}return n}function f(e,r){if(r=r.slice(1),-1!==r.indexOf(".")){r=r.split(".");var t=r.shift(),n=g.get(e,t);return g.isArray(n)?g.pluck(n,r):g.get(n,r)}return g.get(e,r)}function c(){}function l(e,r,t){var i={};void 0===t&&(t=e);var o=function(o){var u=t,f=r[o];if(-1!==o.indexOf(".")){s=o.split(".");var c=s.shift(),l=g.get(e,c);g.isArray(l)?g.set(i,c,l.map(function(e){return a(e,n({},s.join("."),f),t)})):g.merge(i,g.set({},c,a(l,n({},s.join("."),f),t)))}else{if(f===!0||1===f)u=e,f="$"+o;else{if(f===!1||0===f)return"continue";"string"==typeof f?u=t:"object"==typeof f&&(u=g.get(e,o))}g.isArray(u)?g.merge(i,g.set({},o,u.map(function(e){return a(e,f,t)}))):g.merge(i,g.set({},o,a(u,f,t)))}};for(var u in r)var s,f=o(u);return i}function d(){}function p(){}Object.defineProperty(t,"__esModule",{value:!0});var g=e("lodash"),v={};t["default"]={$expression:a,$fieldPath:f,$systemVariable:d,$literal:p,$expressionObject:l},r.exports=t["default"]},{lodash:void 0}],4:[function(e,r,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=e("./aggregation"),i=e("./count"),o=e("./expressions"),u={aggregate:n.aggregate,count:i.count,$expression:o.$expression};t["default"]=u,r.exports=t["default"]},{"./aggregation":1,"./count":2,"./expressions":3}]},{},[4]);