!function r(e,t,n){function i(u,o){if(!t[u]){if(!e[u]){var s="function"==typeof require&&require;if(!o&&s)return s(u,!0);if(a)return a(u,!0);var f=new Error("Cannot find module '"+u+"'");throw f.code="MODULE_NOT_FOUND",f}var c=t[u]={exports:{}};e[u][0].call(c.exports,function(r){var t=e[u][1][r];return i(t?t:r)},c,c.exports,r,e,t,n)}return t[u].exports}for(var a="function"==typeof require&&require,u=0;u<n.length;u++)i(n[u]);return i}({1:[function(r,e,t){"use strict";function n(r,e){return"_id"in e||(e._id=1),a.chain(r).map(function(r){return u.$expressionObject(r,e,r)})}function i(r,e){a.isArray(e)||(e=[e]),r=a.chain(r);for(var t=e.length-1;t<e.length;t++){var i=e[t];i.$project&&(r=n(r,i.$project))}return r}Object.defineProperty(t,"__esModule",{value:!0});var a=r("lodash"),u=r("./expressions");t["default"]={aggregate:i,$project:n},e.exports=t["default"]},{"./expressions":3,lodash:void 0}],2:[function(r,e,t){"use strict";function n(r){return i.size(r)}Object.defineProperty(t,"__esModule",{value:!0});var i=r("lodash");t["default"]={count:n},e.exports=t["default"]},{lodash:void 0}],3:[function(r,e,t){"use strict";function n(r){return r&&r.__esModule?r:{"default":r}}function i(r){if(Array.isArray(r)){for(var e=0,t=Array(r.length);e<r.length;e++)t[e]=r[e];return t}return Array.from(r)}function a(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function u(r){return"string"==typeof r&&0===r.indexOf("$")&&-1===r.indexOf("$$")}function o(r){return"string"==typeof r&&0===r.indexOf("$$")}function s(r){return v.isObject(r)&&!f(r)&&!v.isArray(r)&&!v.isDate(r)}function f(r){return 1===v.size(r)&&v.keys(r)[0]in A["default"]}function c(r,e,t){var n;if(void 0===t&&(t=r),f(e))n=y(t,e,t);else if(u(e))n=l(r,e);else if(s(e))n=g(r,e,t);else{if(o(e))throw Error("System Variables are not currently supported");n=e}return n}function l(r,e){return e=e.slice(1),v.get(r,e)}function y(r,e,t){var n,a=v.keys(e)[0],u=e[a],o=A["default"][a];return v.isArray(u)||(u=[u]),u=u.map(function(e){return c(r,e,t)}),n=o.apply(void 0,i(u))}function g(r,e,t){var n={};void 0===t&&(t=r);var i=function(i){var u=t,s=e[i];if(-1!==i.indexOf(".")){o=i.split(".");var f=o.shift(),l=v.get(r,f);v.isArray(l)?v.set(n,f,l.map(function(r){return c(r,a({},o.join("."),s),t)})):v.merge(n,v.set({},f,c(l,a({},o.join("."),s),t)))}else{if(s===!0||1===s)u=r,s="$"+i;else{if(s===!1||0===s)return"continue";"string"==typeof s?u=t:"object"==typeof s&&(u=v.get(r,i))}v.isArray(u)?v.merge(n,v.set({},i,u.map(function(r){return c(r,s,t)}))):v.merge(n,v.set({},i,c(u,s,t)))}};for(var u in e)var o,s=i(u);return n}function d(){}function p(){}Object.defineProperty(t,"__esModule",{value:!0});var v=r("lodash"),m=r("../operators"),A=n(m);t["default"]={$expression:c,$fieldPath:l,$systemVariable:d,$literal:p,$expressionObject:g},e.exports=t["default"]},{"../operators":4,lodash:void 0}],4:[function(r,e,t){"use strict";function n(r){if(Array.isArray(r)){for(var e=0,t=Array(r.length);e<r.length;e++)t[e]=r[e];return t}return Array.from(r)}function i(){for(var r=arguments.length,e=Array(r),t=0;r>t;t++)e[t]=arguments[t];return q.every(e)}function a(){for(var r=arguments.length,e=Array(r),t=0;r>t;t++)e[t]=arguments[t];return q.some(e)}function u(){for(var r=arguments.length,e=Array(r),t=0;r>t;t++)e[t]=arguments[t];return!q.some(e)}function o(r){return q.unique(r).sort(p)}function s(){for(var r=arguments.length,e=Array(r),t=0;r>t;t++)e[t]=arguments[t];var n=e.map(o),i=n.shift();return q.every(n,q.partial(q.isEqual,i))}function f(){return o(q.intersection.apply(void 0,arguments))}function c(){for(var r=arguments.length,e=Array(r),t=0;r>t;t++)e[t]=arguments[t];return q.union.apply(void 0,n(e.map(o)))}function l(){for(var r=arguments.length,e=Array(r),t=0;r>t;t++)e[t]=arguments[t];return q.difference.apply(void 0,n(e.map(o)))}function y(r,e){return q.isEqual(o(q.intersection(r,e)),o(r))}function g(r){if(!q.isArray(r))throw Error("values must be an array, got "+typeof r);return a.apply(void 0,n(r))}function d(r){if(!q.isArray(r))throw Error("values must be an array, got "+typeof r);return i.apply(void 0,n(r))}function p(r,e){return q.isArray(r)&&q.isArray(e)?0:$(r,e)?-1:m(r,e)?1:0}function v(r,e){return q.isEqual(r,e)}function m(r,e){return q.isArray(e)&&!q.isArray(r)?!1:q.isArray(r)&&!q.isArray(e)?!0:q.gt(r,e)}function A(r,e){return q.isArray(e)&&!q.isArray(r)?!1:q.isArray(r)&&!q.isArray(e)?!0:q.gte(r,e)}function $(r,e){return q.isArray(e)&&!q.isArray(r)?!0:q.isArray(r)&&!q.isArray(e)?!1:q.lt(r,e)}function h(r,e){return q.isArray(e)&&!q.isArray(r)?!0:q.isArray(r)&&!q.isArray(e)?!1:q.lte(r,e)}function x(r,e){return!v(r,e)}function b(){for(var r=arguments.length,e=Array(r),t=0;r>t;t++)e[t]=arguments[t];var n=e.shift(),i=!1;q.isDate(n)&&(i=!0,n=n.getTime());for(var a=e.length-1;a>=0;a--){var u=e[a];q.isDate(u)&&(i=!0,u=u.getTime()),n+=u}return i?new Date(n):n}function O(r,e){return q.isDate(r)&&q.isDate(e)?r.getTime()-e.getTime():q.isDate(r)&&!q.isDate(e)?new Date(r.getTime()-e):!q.isDate(r)&&q.isDate(e)?new Date(r-e.getTime()):r-e}function _(r,e){return r*e}function j(r,e){return r/e}function D(r,e){return r%e}function E(r,e,t){return r.slice(e,e+t)}Object.defineProperty(t,"__esModule",{value:!0});var q=r("lodash");t["default"]={$and:i,$or:a,$not:u,$setEquals:s,$setIntersection:f,$setUnion:c,$setDifference:l,$setIsSubset:y,$anyElementTrue:g,$allElementsTrue:d,$cmp:p,$eq:v,$gt:m,$gte:A,$lt:$,$lte:h,$ne:x,$add:b,$subtract:O,$divide:j,$multiply:_,$mod:D,$substr:E},e.exports=t["default"]},{lodash:void 0}],5:[function(r,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("./aggregation"),i=r("./count"),a=r("./expressions"),u={aggregate:n.aggregate,count:i.count,$expression:a.$expression};t["default"]=u,e.exports=t["default"]},{"./aggregation":1,"./count":2,"./expressions":3}]},{},[5]);