!function e(r,t,n){function o(s,u){if(!t[s]){if(!r[s]){var a="function"==typeof require&&require;if(!u&&a)return a(s,!0);if(i)return i(s,!0);var f=new Error("Cannot find module '"+s+"'");throw f.code="MODULE_NOT_FOUND",f}var c=t[s]={exports:{}};r[s][0].call(c.exports,function(e){var t=r[s][1][e];return o(t?t:e)},c,c.exports,e,r,t,n)}return t[s].exports}for(var i="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(e,r,t){"use strict";function n(e,r){return"_id"in r||(r._id=1),i.chain(e).map(function(e){return s.$expressionObject(e,r,e)})}function o(e,r){i.isArray(r)||(r=[r]),e=i.chain(e);for(var t=r.length-1;t<r.length;t++){var o=r[t];o.$project&&(e=n(e,o.$project))}return e}Object.defineProperty(t,"__esModule",{value:!0});var i=e("lodash"),s=e("./expressions");t["default"]={aggregate:o,$project:n},r.exports=t["default"]},{"./expressions":3,lodash:void 0}],2:[function(e,r,t){"use strict";function n(e){return o.size(e)}Object.defineProperty(t,"__esModule",{value:!0});var o=e("lodash");t["default"]={count:n},r.exports=t["default"]},{lodash:void 0}],3:[function(e,r,t){"use strict";function n(e){return"string"==typeof e&&0===e.indexOf("$")&&-1===e.indexOf("$$")}function o(e){return"string"==typeof e&&0===e.indexOf("$$")}function i(e){return p.isObject(e)&&!s(e)&&!p.isArray(e)}function s(e){return 1===p.size(e)&&p.keys(e)[0]in g}function u(e,r,t){var u;if(void 0===t&&(t=e),console.debug("obj",e),console.debug("expression",r),n(r))u=a(e,r);else if(s(g))u=f(e,r,t);else{if(!i(r))throw Error(o(r)?"System Variables are not currently supported":"Invalid Expression: "+JSON.stringify(r));u=c(e,r,t)}return console.debug("result",u),u}function a(e,r){return r=r.slice(1),p.isArray(e)?p.pluck(e,r):p.get(e,r)}function f(){}function c(e,r,t){var n={};void 0===t&&(t=e);for(var o in r){var i=t,s=r[o];if(s===!0||1===s)i=e,s="$"+o;else{if(s===!1||0===s)continue;"string"==typeof s?i=t:"object"==typeof s&&(i=p.get(e,o))}p.merge(n,p.set({},o,u(i,s,t)))}return n}function l(){}function d(){}Object.defineProperty(t,"__esModule",{value:!0});var p=e("lodash"),g={};t["default"]={$expression:u,$fieldPath:a,$systemVariable:l,$literal:d,$expressionObject:c},r.exports=t["default"]},{lodash:void 0}],4:[function(e,r,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=e("./aggregation"),o=e("./count"),i=e("./expressions"),s={aggregate:n.aggregate,count:o.count,$expression:i.$expression};t["default"]=s,r.exports=t["default"]},{"./aggregation":1,"./count":2,"./expressions":3}]},{},[4]);