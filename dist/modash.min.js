!function r(e,t,n){function i(a,o){if(!t[a]){if(!e[a]){var s="function"==typeof require&&require;if(!o&&s)return s(a,!0);if(u)return u(a,!0);var f=new Error("Cannot find module '"+a+"'");throw f.code="MODULE_NOT_FOUND",f}var c=t[a]={exports:{}};e[a][0].call(c.exports,function(r){var t=e[a][1][r];return i(t?t:r)},c,c.exports,r,e,t,n)}return t[a].exports}for(var u="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(r,e,t){"use strict";function n(r,e){return"_id"in e||(e._id=1),u.chain(r).map(function(r){return a.$expressionObject(r,e,r)})}function i(r,e){u.isArray(e)||(e=[e]),r=u.chain(r);for(var t=e.length-1;t<e.length;t++){var i=e[t];i.$project&&(r=n(r,i.$project))}return r}Object.defineProperty(t,"__esModule",{value:!0});var u=r("lodash"),a=r("./expressions");t["default"]={aggregate:i,$project:n},e.exports=t["default"]},{"./expressions":3,lodash:void 0}],2:[function(r,e,t){"use strict";function n(r){return i.size(r)}Object.defineProperty(t,"__esModule",{value:!0});var i=r("lodash");t["default"]={count:n},e.exports=t["default"]},{lodash:void 0}],3:[function(r,e,t){"use strict";function n(r){return r&&r.__esModule?r:{"default":r}}function i(r){if(Array.isArray(r)){for(var e=0,t=Array(r.length);e<r.length;e++)t[e]=r[e];return t}return Array.from(r)}function u(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function a(r){return"string"==typeof r&&0===r.indexOf("$")&&-1===r.indexOf("$$")}function o(r){return"string"==typeof r&&0===r.indexOf("$$")}function s(r){return v.isObject(r)&&!f(r)&&!v.isArray(r)}function f(r){return 1===v.size(r)&&v.keys(r)[0]in m["default"]}function c(r,e,t){var n;if(void 0===t&&(t=r),f(e))n=y(t,e,t);else if(a(e))n=l(r,e);else{if(!s(e)){if(o(e))throw Error("System Variables are not currently supported");return e}n=p(r,e,t)}return n}function l(r,e){if(e=e.slice(1),-1!==e.indexOf(".")){e=e.split(".");var t=e.shift(),n=v.get(r,t);return v.isArray(n)?v.pluck(n,e):v.get(n,e)}return v.get(r,e)}function y(r,e,t){var n,u=v.keys(e)[0],a=e[u],o=m["default"][u];return v.isArray(a)||(a=[a]),a=a.map(function(e){return c(r,e,t)}),n=o.apply(void 0,i(a))}function p(r,e,t){var n={};void 0===t&&(t=r);var i=function(i){var a=t,s=e[i];if(-1!==i.indexOf(".")){o=i.split(".");var f=o.shift(),l=v.get(r,f);v.isArray(l)?v.set(n,f,l.map(function(r){return c(r,u({},o.join("."),s),t)})):v.merge(n,v.set({},f,c(l,u({},o.join("."),s),t)))}else{if(s===!0||1===s)a=r,s="$"+i;else{if(s===!1||0===s)return"continue";"string"==typeof s?a=t:"object"==typeof s&&(a=v.get(r,i))}v.isArray(a)?v.merge(n,v.set({},i,a.map(function(r){return c(r,s,t)}))):v.merge(n,v.set({},i,c(a,s,t)))}};for(var a in e)var o,s=i(a);return n}function d(){}function g(){}Object.defineProperty(t,"__esModule",{value:!0});var v=r("lodash"),A=r("../operators"),m=n(A);t["default"]={$expression:c,$fieldPath:l,$systemVariable:d,$literal:g,$expressionObject:p},e.exports=t["default"]},{"../operators":4,lodash:void 0}],4:[function(r,e,t){"use strict";function n(r){if(Array.isArray(r)){for(var e=0,t=Array(r.length);e<r.length;e++)t[e]=r[e];return t}return Array.from(r)}function i(){for(var r=arguments.length,e=Array(r),t=0;r>t;t++)e[t]=arguments[t];return O.every(e)}function u(){for(var r=arguments.length,e=Array(r),t=0;r>t;t++)e[t]=arguments[t];return O.some(e)}function a(){for(var r=arguments.length,e=Array(r),t=0;r>t;t++)e[t]=arguments[t];return!O.some(e)}function o(r){return O.unique(r).sort(g)}function s(){for(var r=arguments.length,e=Array(r),t=0;r>t;t++)e[t]=arguments[t];var n=e.map(o),i=n[0];return O.every(n,O.partial(O.isEqual,i))}function f(){return o(O.intersection.apply(void 0,arguments))}function c(){for(var r=arguments.length,e=Array(r),t=0;r>t;t++)e[t]=arguments[t];return O.union.apply(void 0,n(e.map(o)))}function l(){for(var r=arguments.length,e=Array(r),t=0;r>t;t++)e[t]=arguments[t];return O.difference.apply(void 0,n(e.map(o)))}function y(r,e){return O.isEqual(o(O.intersection(r,e)),o(r))}function p(r){if(!O.isArray(r))throw TypeError("values must be an array, got "+typeof r);return u.apply(void 0,n(r))}function d(r){if(!O.isArray(r))throw TypeError("values must be an array, got "+typeof r);return i.apply(void 0,n(r))}function g(r,e){return O.isArray(r)&&O.isArray(e)?0:$(r,e)?-1:A(r,e)?1:0}function v(r,e){return O.isEqual(r,e)}function A(r,e){return O.isArray(e)&&!O.isArray(r)?!1:O.isArray(r)&&!O.isArray(e)?!0:O.gt(r,e)}function m(r,e){return O.isArray(e)&&!O.isArray(r)?!1:O.isArray(r)&&!O.isArray(e)?!0:O.gte(r,e)}function $(r,e){return O.isArray(e)&&!O.isArray(r)?!0:O.isArray(r)&&!O.isArray(e)?!1:O.lt(r,e)}function h(r,e){return O.isArray(e)&&!O.isArray(r)?!0:O.isArray(r)&&!O.isArray(e)?!1:O.lte(r,e)}function x(r,e){return!v(r,e)}function b(r,e,t){return r.slice(e,e+t)}Object.defineProperty(t,"__esModule",{value:!0});var O=r("lodash");t["default"]={$and:i,$or:u,$not:a,$setEquals:s,$setIntersection:f,$setUnion:c,$setDifference:l,$setIsSubset:y,$anyElementTrue:p,$allElementsTrue:d,$cmp:g,$gt:A,$gte:m,$lt:$,$lte:h,$ne:x,$substr:b},e.exports=t["default"]},{lodash:void 0}],5:[function(r,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("./aggregation"),i=r("./count"),u=r("./expressions"),a={aggregate:n.aggregate,count:i.count,$expression:u.$expression};t["default"]=a,e.exports=t["default"]},{"./aggregation":1,"./count":2,"./expressions":3}]},{},[5]);